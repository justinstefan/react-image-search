(this["webpackJsonpreact-image-search"]=this["webpackJsonpreact-image-search"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(6),r=n.n(o),i=n(4),u=n(1);var s=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],o=n[1];function r(){window.innerHeight+document.documentElement.scrollTop<document.documentElement.offsetHeight-300||a||o(!0)}return Object(c.useEffect)((function(){return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[]),Object(c.useEffect)((function(){a&&e((function(){console.log("called back")}))}),[a]),[a,o]},l="https://api.flickr.com/services/rest/",f="15b67c2a8b4288ff1fddf5eb56655cfb";function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="text=".concat(e,"&page=").concat(t,"&method=flickr.photos.search&safe_search=1&format=json&nojsoncallback=1&api_key=").concat(f,"&content_type=1&is_getty=1");return fetch("".concat(l,"?").concat(n),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.error(e),[]}))}n(12);function d(e){var t,n,c=e.data,o=(t=c,n=4,t.reduce((function(e,t,c){var a=c%n;return e[a]||(e[a]=[]),e[a].push(t),e}),[])).map((function(e,t){return a.a.createElement("div",{key:t,className:"column"},e.map((function(e,t){var n=e.farm,c=e.server,o=e.id,r=e.secret,i=e.title,u=function(e,t,n,c){return"https://farm".concat(e,".staticflickr.com/").concat(t,"/").concat(n,"_").concat(c,".jpg")}(n,c,o,r);return a.a.createElement("img",{key:"".concat(o,"-").concat(t),src:u,alt:i,"data-testid":"flickr-img"})})))}));return a.a.createElement("div",{className:"row list"},o)}n(13);function h(){return a.a.createElement("div",{className:"loader"})}n(14);var p=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],o=t[1],r=function(e,t){var n=Object(c.useState)(e),a=Object(u.a)(n,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){r(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o}(n,500),l=Object(c.useState)(!1),f=Object(u.a)(l,2),p=f[0],b=f[1],v=Object(c.useState)(!1),j=Object(u.a)(v,2),g=j[0],E=j[1],O=s((function(){var e=N+1;m(r,e).then((function(t){J([].concat(Object(i.a)(H),Object(i.a)(t.photos.photo))),_(e),y(!1)}))})),w=Object(u.a)(O,2),k=w[0],y=w[1],S=Object(c.useState)(1),T=Object(u.a)(S,2),N=T[0],_=T[1],x=Object(c.useState)([]),B=Object(u.a)(x,2),H=B[0],J=B[1];return Object(c.useEffect)((function(){_(1),r?(E(!0),m(r).then((function(e){E(!1),b(!0),J(e.photos.photo)}))):(J([]),b(!1))}),[r]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"row input-wrap ".concat(p?"focused":"")},a.a.createElement("input",{value:n,onChange:function(e){return o(e.target.value)},type:"text",name:"searchText",placeholder:"Type to search image gallery","data-testid":"search-input"}),(g||!!k)&&a.a.createElement(h,null)),a.a.createElement(d,{data:H,isFetching:g||!!k}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.0a7500d9.chunk.js.map
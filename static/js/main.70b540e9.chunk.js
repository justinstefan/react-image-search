(this["webpackJsonpreact-image-search"]=this["webpackJsonpreact-image-search"]||[]).push([[0],[,,,,,,,function(t,e,n){t.exports=n(15)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),o=n(6),r=n.n(o),i=(n(12),n(4)),u=n(1);var s=function(t){var e=Object(c.useState)(!1),n=Object(u.a)(e,2),a=n[0],o=n[1];function r(){window.innerHeight+document.documentElement.scrollTop<document.documentElement.offsetHeight-300||a||o(!0)}return Object(c.useEffect)((function(){return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[]),Object(c.useEffect)((function(){a&&t((function(){console.log("called back")}))}),[a]),[a,o]},f="https://api.flickr.com/services/rest/",l="15b67c2a8b4288ff1fddf5eb56655cfb";function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="text=".concat(t,"&page=").concat(e,"&method=flickr.photos.search&safe_search=1&format=json&nojsoncallback=1&api_key=").concat(l,"&content_type=1&is_getty=1");return fetch("".concat(f,"?").concat(n),{method:"GET"}).then((function(t){return t.json()})).catch((function(t){return console.error(t),[]}))}n(13);function h(t){var e,n,c=t.data,o=(e=c,n=4,e.reduce((function(t,e,c){var a=c%n;return t[a]||(t[a]=[]),t[a].push(e),t}),[])).map((function(t,e){return a.a.createElement("div",{key:e,className:"column"},t.map((function(t,e){var n=t.farm,c=t.server,o=t.id,r=t.secret,i=t.title,u=function(t,e,n,c){return"https://farm".concat(t,".staticflickr.com/").concat(e,"/").concat(n,"_").concat(c,".jpg")}(n,c,o,r);return a.a.createElement("img",{key:"".concat(o,"-").concat(e),src:u,alt:i,"data-testid":"flickr-img"})})))}));return a.a.createElement("div",{className:"row list"},o)}n(14);var d=function(){var t=Object(c.useState)(""),e=Object(u.a)(t,2),n=e[0],o=e[1],r=function(t,e){var n=Object(c.useState)(t),a=Object(u.a)(n,2),o=a[0],r=a[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){r(t)}),e);return function(){clearTimeout(n)}}),[t,e]),o}(n,500),f=Object(c.useState)(!1),l=Object(u.a)(f,2),d=l[0],p=l[1],b=Object(c.useState)(!1),v=Object(u.a)(b,2),j=v[0],g=v[1],O=s((function(){var t=T+1;m(r,t).then((function(e){F([].concat(Object(i.a)(B),Object(i.a)(e.photos.photo))),_(t),k(!1)}))})),E=Object(u.a)(O,2),w=E[0],k=E[1],y=Object(c.useState)(1),S=Object(u.a)(y,2),T=S[0],_=S[1],x=Object(c.useState)([]),N=Object(u.a)(x,2),B=N[0],F=N[1];return Object(c.useEffect)((function(){_(1),r?(g(!0),m(r).then((function(t){g(!1),p(!0),F(t.photos.photo)}))):(F([]),p(!1))}),[r]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"row input-wrap ".concat(d?"focused":"")},a.a.createElement("input",{value:n,onChange:function(t){return o(t.target.value)},onFocus:function(t){return p(!0)},onBlur:function(t){return!B.length&&p(!1)},type:"text",name:"searchText",placeholder:"Type to search image gallery","data-testid":"search-input"})),a.a.createElement(h,{data:B,isFetching:j||!!w}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.70b540e9.chunk.js.map